---
title: "2026년 1월 변경 이력"
category: "history"
tier: 2
status: "active"
last_updated: "2026-01-09"
related_docs:
  - path: "docs/roadmap/current-phase.md"
    description: "현재 개발 단계"
  - path: "docs/history/changelog/2025-12.md"
    description: "2025년 12월 변경 이력"
  - path: "docs/features/product-applications/README.md"
    description: "상품 신청 시스템 문서"
tags:
  - changelog
  - 2026
  - january
---

# 2026년 1월 변경 이력

## 2026-01-09 (Week 21)

### 상품 신청 시스템 구현 ✅

제휴 서비스 명함/부가명함 상품에 대한 가입/구매 신청 기능 구현.
추천인(명함 소유자) 트래킹 + 동적 폼 필드 + 관리자 워크플로우.

#### 1. 데이터베이스 마이그레이션

**파일**: `react-app/supabase/migrations/`

| 마이그레이션 파일 | 설명 |
|------------------|------|
| `20260108000001_create_product_applications.sql` | 상품 신청 테이블 생성 |
| `20260108000002_create_application_logs.sql` | 신청 처리 로그 테이블 |
| `20260108000003_add_form_schema_to_templates.sql` | 템플릿에 form_schema 컬럼 추가 |
| `20260109000001_update_get_admin_sidejobs_with_application.sql` | RPC 함수에 application_enabled 추가 |

**product_applications 테이블 주요 필드**:
- `template_id`, `instance_id` - 신청 대상
- `referrer_user_id`, `referrer_card_url` - 추천인 트래킹
- `applicant_name`, `applicant_phone`, `applicant_email` - 신청자 정보
- `form_data` (JSONB) - 동적 폼 데이터
- `status` - 워크플로우 상태 (pending → assigned → processing → completed)

#### 2. React App - 신청 폼 페이지

**신규 파일**:
- `react-app/src/types/application.ts` - 타입 정의
- `react-app/src/lib/applications.ts` - API 함수
- `react-app/src/components/application/DynamicFormField.tsx` - 동적 폼 필드
- `react-app/src/pages/ProductApplicationPage.tsx` - 신청 페이지

**라우팅**:
```tsx
/apply/:templateId           // 일반 신청
/apply/:templateId/:referrerUrl  // 추천인 포함 신청
```

**신청 폼 구조**:
- 기본 정보 (이름*, 연락처*, 이메일*) - 항상 표시
- 추가 정보 - 동적 폼 필드 (form_schema 기반)
- 개인정보 동의 체크박스
- 제출 버튼

#### 3. Admin App - 신청 폼 설정

**수정된 파일**:
- `admin-app/src/components/sidejobs/TemplateEditModal.tsx` - 신청 설정 섹션 추가
- `admin-app/src/components/sidejobs/FormSchemaEditor.tsx` - 폼 스키마 편집기
- `admin-app/src/types/sidejob.ts` - application 관련 타입 추가

**신청 폼 설정 UI**:
- 신청 기능 활성화 토글
- 추천인 보상 설정 (유형: 없음/수수료/포인트, 금액)
- 중복 신청 체크 (기간 설정)
- 폼 스키마 편집기 (동적 필드 추가/수정/삭제)

#### 4. 폼 스키마 편집기 개선

**파일**: `admin-app/src/components/sidejobs/FormSchemaEditor.tsx`

**개선 사항**:
- 타입 기반 시퀀스 ID 자동 생성 (`text_1`, `select_1` 형태)
- 자주 사용하는 필드 프리셋 8종:
  - `business_type` - 사업자 유형
  - `company_name` - 회사명/상호
  - `business_number` - 사업자등록번호
  - `monthly_sales` - 월 매출
  - `employee_count` - 직원 수
  - `address` - 사업장 주소
  - `inquiry_content` - 문의 내용
  - `preferred_contact_time` - 희망 연락 시간
- 필드 헤더에 필드 ID 표시
- 필드 ID 입력란에 가이드 및 예시 추가

#### 5. 사용자 화면 연동

**수정된 파일**:
- `react-app/src/components/AdminSidejobCards.tsx` - 신청하기 버튼 추가
- `react-app/src/components/CardWithSideJobs.tsx` - cardUrl prop 추가
- `react-app/src/lib/adminSidejobs.ts` - application_enabled 필드 매핑
- `react-app/src/types/adminSidejob.ts` - application_enabled 타입 추가

**클릭 동작 분리**:
| 영역 | 동작 |
|------|------|
| 카드 전체 | CTA 링크 (새 탭) |
| 이미지 | 팝업 뷰어 |
| 신청하기 버튼 | `/apply/{templateId}/{cardUrl}` 이동 |

#### 커밋 이력
- `726213b` - feat(FormSchemaEditor): 필드 ID 자동생성 개선 및 프리셋 추가
- `8d66e09` - feat: 제휴 부가명함 클릭 동작 분리 (CTA vs 신청)
- `5f5948f` - feat: 제휴 부가명함에서 신청 폼 연동
- `61c644d` - feat: TemplateEditModal에 신청 폼 설정 기능 추가
- 이전 커밋들: DB 마이그레이션, 타입 정의, API 함수, 페이지 구현

---

## 2026-01-02 (Week 20)

### 모바일 반응형 최적화 완료 ✅

360px~430px 모바일 기기에 대응하는 반응형 UI 최적화 작업.

#### 1. Tailwind 브레이크포인트 커스터마이징
**파일**: `react-app/tailwind.config.js`

**추가된 브레이크포인트**:
```javascript
screens: {
  'xs': '360px',   // 작은 안드로이드
  'sm': '375px',   // iPhone SE/12/13/14 (주요 타겟)
  'md': '390px',   // iPhone Pro
  'lg': '414px',   // iPhone Plus
  'xl': '430px',   // iPhone 14 Pro Max
  '2xl': '768px',  // 태블릿
}
```

#### 2. 테마 카드 반응형 최적화
**파일**:
- `react-app/src/components/themes/AppleCard.tsx`
- `react-app/src/components/themes/DefaultCard.tsx`
- `react-app/src/components/themes/ProfessionalCard.tsx`
- `react-app/src/components/themes/SimpleCard.tsx`
- `react-app/src/components/themes/TrendyCard.tsx`

**변경 내용**:
- 반응형 폰트 크기: `text-2xl sm:text-3xl`
- 반응형 패딩/마진: `px-4 sm:px-6`, `py-6 sm:py-8`
- 터치 영역 표준: `min-h-[44px]` (Apple HIG 기준)
- 프로필 이미지: `w-20 sm:w-24 md:w-28`
- 아이콘 크기: `text-xl sm:text-2xl`

#### 3. 테마별 버튼 구성 통일
**파일**:
- `react-app/src/components/themes/AppleCard.tsx`
- `react-app/src/components/themes/ProfessionalCard.tsx`
- `react-app/src/components/themes/SimpleCard.tsx`
- `react-app/src/components/themes/TrendyCard.tsx`

**통일된 버튼 구성**:
- 상단 액션 버튼 (3열 그리드):
  - 전화하기 (tel:)
  - 문자하기 (sms:)
  - 공유하기 (Web Share API)
- 하단 연락처 저장 버튼:
  - vCard 다운로드 (.vcf)

#### 4. 페이지 레이아웃 최적화
**파일**:
- `react-app/src/pages/LandingPage.tsx`
- `react-app/src/pages/DashboardPageOptimized.tsx`
- `react-app/src/components/AdminSidejobCards.tsx`
- `react-app/src/components/CardWithSideJobs.tsx`

**변경 내용**:
- 모바일 우선 레이아웃 (Mobile-First)
- 좌우 여백 조정: `px-4 sm:px-6`
- 그리드 간격 조정: `gap-2 sm:gap-3`
- 버튼 크기 조정: `min-h-[60px]`

#### 5. 문서 업데이트
**파일**: `docs/features/business-cards/THEME_STANDARD.md`

**추가된 내용**:
- 반응형 브레이크포인트 표
- 반응형 폰트 크기 가이드
- 반응형 패딩/마진 가이드
- 터치 영역 표준 (Apple HIG)
- 반응형 이미지/아이콘 크기 표
- 반응형 적용 예시 코드

#### 커밋 이력
- `b498eed` - feat(themes): 테마별 버튼 구성 통일 (전화, 문자, 공유 + 하단 연락처 추가)
- `ed7f59d` - feat(themes): 모바일 반응형 최적화 (360px~430px 지원)
- `6b4d61a` - feat: LandingPage, DashboardPage 모바일 반응형 최적화

---

### 반응형 디자인 가이드라인

#### 시장 점유율 기반 브레이크포인트
| 브레이크포인트 | 크기 | 대상 기기 | 시장 점유율 |
|---------------|------|----------|------------|
| (기본) | 360px~ | 작은 안드로이드 | 10% |
| `sm:` | 375px~ | iPhone SE/12/13/14 | 40% (주요 타겟) |
| `md:` | 390px~ | iPhone Pro | 25% |
| `lg:` | 414px~ | iPhone Plus | 15% |
| `xl:` | 430px~ | iPhone 14 Pro Max | 5% |
| `2xl:` | 768px~ | 태블릿 | 5% |

#### 핵심 원칙
1. **Mobile-First**: 기본 스타일은 360px 기준
2. **터치 영역**: 최소 44px (Apple HIG)
3. **폰트 최소 크기**: 14px (`text-sm`) 이상 권장
4. **컨테이너 최대 너비**: `max-w-md` (448px)
